Check Status of F5 Automation Toolchain Extensions
================================================================================
You will configure and use the Postman client to query the F5 ATC extension APIs.


Retrieve the Postman Configuration Files
-------------------------------------------------------------------------------

The ``~/f5lab/postman`` folder contains two files:
- f5lab_postman_collection.json
- f5lab_postman_environment.json

The collection file contains a set of API calls for this lab.
The environment variables file was dynamically generated by Terraform using current deployment information (keys, IP addresses, etc).

#. In the VS Code terminal, copy these files to the jump host desktop.

	.. code-block:: bash

		cp ~/f5lab/postman/* /mnt/c/Users/user/Desktop/

   |

   You should now see two additional icons on the Windows desktop.


Postman Configuration
-------------------------------------------------------------------------------

#. Switch to the Postman window (re-launch it from the desktop shortcut if you closed it earlier).

#. Click on the **gear** button (left of the **Sign In** button) and select **Settings**.

#. Ensure that "SSL certificate verification" is turned "OFF" and then close the Settings dialog.

   .. image:: ./images/postman-ssl-cert-verification.png
      :align: left

   |

#. In the left-panel, click on the **Import** button. 

   .. image:: ./images/postman-import-1.png
      :align: left

   |

#. Shift-click to select both Postman JSON files and drag them to the **import** dialog.


   .. image:: ./images/postman-import-2.png
      :align: left

   |

#. The files will be listed in a table. Click on the **Import** button to continue.

   .. image:: ./images/postman-import-3.png
      :align: left

   |

#. Confirm that the **Agility Lab - BIG-IP HA in Public Cloud** collection has been imported.

   .. image:: ./images/postman-import-4.png
      :align: left

   |

#. Confirm the environment was successfully imported by selecting "**Agility Lab - Environment var...**" from the Environment drop-down menu in the upper-right-hand corner.

   .. image:: ./images/postman-import-5.png
      :align: left

|

Check F5 ATC Extensions
-------------------------------------------------------------------------------

Send API calls from Postman to check the status of the F5 ATC extensions on each BIG-IP.

#. In the left panel, expand the collection. Navigate to **Module 2 - Declarative Onboarding**  > **DO-1-A [bigip1] Get extension status**

#. Click on the **Send** button to make an API call to the DO endpoint on **BIG-IP #1**. You should receive a response (JSON format) containing version information.


   .. image:: ./images/postman-test-1.png
      :align: left

   |

   .. note::

      Only the DO extension will return a **status**. The others will return only version information.

   |


#. Send the **DO-1-B [bigip2] Get extension status** request to check the status of the DO extension on **BIG-IP #2**.

   |

#. Send the **DO-2-A [bigip1] Get current config** request to retrieve the current DO configuration on **BIG-IP #1**.

   .. image:: ./images/postman-test-2.png
      :align: left

   |

#. Scroll down in the response body JSON to see all of the configuration settings. These should be the same as those defined in the **f5_onboard_3nic_custom.tmpl** template file for **BIG-IP Runtime Init**. 

   The settings should also correspond to the values that you saw in the BIG-IP TMUI and AWS EC2 (BIG-IP) instances.

#. Do the same for **BIG-IP #2**.

   The other F5 ATC extensions (AS3, CFE, and TS) will be checked in later lab modules.

#. Minimize the Postman window. You will use it again in a later lab module.

|

This is the end of the module.
